services:
  first-service:
    image: '[<registry>/][<project>/]<image>[:<tag>|@<digest>]'
    pull_policy: '<optional-pull-policy (default: missing)>'
    name_prefix: <optional-container-name-prefix>
    base_name: <base-container-name>
    current_suffix: <optional-container-name-suffix>
    previous_suffix: <optional-demoted-container-name-suffix>
    ports:
    - target: "8080"
      published: "8000"
      host_ip: 0.0.0.0
      protocol: tcp
    - target: "443"
    volumes:
    - type: bind
      source: /path/on/host/data
      target: /path/in/container/data
      read_only: true
      bind:
        create_host_path: true
    - type: volume
      source: <docker-volume-name>
      target: /path/in/container/data
    env_file:
    - /<host-path>/<env-vars-file>
    environment:
      TZ: UTC
      DEBUG_MODE: "true"
    networks:
      some-network:
        ipv4_address: 172.17.0.10
        aliases:
        - my-first-service
      other-network: {}
    links:
    - second-service
    - second-service:<alias>
    hostname: optional-hostname-or-null-for-autogenerated
    extra_hosts:
      host.docker.internal: host-gateway
      some.other.docker.container: 172.17.0.11
    dns:
    - 8.8.8.8
    - 8.8.4.4
    restart: '<optional-restart-mode (default: unless-stopped)>'
    entrypoint: <optional-override-th-image-entrypoint>
    command:
    - <container-startup-command>
    - --some-arg=123
    - --flag-arg
    attach: true
    run_command_options:
    - -it
    - <any-docker-run-option>
  second-service:
    image: '[<registry>/][<project>/]<image>[:<tag>|@<digest>]'
    pull_policy: '<optional-pull-policy (default: missing)>'
    container_name: <full-container-name>
    ports:
    - target: "1234"
      published: "8765"
    volumes:
    - source: <other-docker-volume-name>
      target: /path/in/container/data
    environment:
      TZ: UTC
    networks:
      some-network:
        ipv4_address: 172.17.0.11
        aliases:
        - my-second-service
    extra_hosts:
      host.docker.internal: host-gateway
    restart: '<optional-restart-mode (default: unless-stopped)>'
    attach: true
networks:
  some-network:
    name: <some-docker-network-name>
    driver: bridge
    ipam:
      driver: default
      config:
        subnet: 172.17.0.1/24
        ip_range: 172.17.0.1/26
        gateway: 172.17.0.1
    attachable: true
  other-network:
    name: <other-docker-network-name>
    driver: host
    attachable: true
    preserve: true
